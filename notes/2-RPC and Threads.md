# 2

## Go

为什么是Go：多线程协同和线程同步，好用的RPC Package，内存回收机制，简单

多线程：课程里实现并发的主要工具，goroutine



## Threads

一个多线程程序中，可以有多个线程

每个线程有自己的程序计数器，寄存器和栈。程序中不同的部分独立执行自己的部分

### Why

IO Concurrency：等待、继续执行、回复

Parallelism：多核编程，也就是说两个线程可以真正的获得两倍的算力。服务器的多核、多线程

Convenience：比如一个服务器需要周期性检查，这时候启动一个goroutine可以完成这样的任务，当然这会带来一些开销



### 异步编程（event-driven）

另一种风格，不使用多线程

设置等待的事件或者时间

相比而言，多线程使得编程更连贯。异步实现起来有点痛苦，另外这无法使用到IO的并行，性能更低。但这使得空间开销和线程调度代价减少。



### Thread Challenges

共享内存：竞争（RACE）、读写冲突、重复之类的问题（加锁，让你的代码不共享数据）、

Coordination：一个线程等待另一个线程，channel（Go），条件变量，WaitGoup

死锁：两个线程之间相互等待

eg：[Go爬虫](../go/crawler.go)



## RPC

没时间讲了







